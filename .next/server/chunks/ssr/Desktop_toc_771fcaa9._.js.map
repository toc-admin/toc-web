{"version":3,"sources":["../../../../../../Desktop/toc/app/furniture/FurnitureHubClient.tsx/__nextjs-internal-proxy.mjs","../../../../../../Desktop/toc/app/furniture/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/toc/app/furniture/FurnitureHubClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/toc/app/furniture/FurnitureHubClient.tsx\",\n    \"default\",\n);\n","import { Metadata } from 'next'\nimport { createServerClient } from '@/lib/supabase/server'\nimport FurnitureHubClient from './FurnitureHubClient'\n\nexport const metadata: Metadata = {\n  title: 'Office Furniture Catalog | 500+ Premium Products | The Office Company',\n  description: 'Browse our comprehensive catalog of premium office furniture. Chairs, desks, storage, acoustic solutions, and more from world-class brands. Find furniture by category or room type.',\n  openGraph: {\n    title: 'Office Furniture Catalog | The Office Company',\n    description: 'Browse 500+ premium office furniture products from world-class brands.',\n    images: [{\n      url: '/og/furniture-catalog.jpg',\n      width: 1200,\n      height: 630,\n      alt: 'The Office Company Furniture Catalog'\n    }],\n    type: 'website',\n  },\n}\n\nasync function getFurnitureData() {\n  const supabase = await createServerClient()\n\n  // Fetch categories with product counts\n  const { data: categories, error: categoriesError } = await supabase\n    .from('categories')\n    .select('id, name, slug, description, icon_name, image_url, product_count')\n    .order('name')\n\n  // Fetch rooms\n  const { data: rooms, error: roomsError } = await supabase\n    .from('rooms')\n    .select('id, name, slug, emoji, description, hero_image_url')\n    .order('name')\n\n  // Fetch featured products with related data\n  const { data: featuredProducts, error: productsError } = await supabase\n    .from('products')\n    .select(`\n      id,\n      name,\n      slug,\n      subcategory,\n      is_new,\n      is_featured,\n      brand:brands(name),\n      category:categories(name),\n      product_images(image_url, thumbnail_url, medium_url, is_primary, display_order),\n      product_features(feature_name)\n    `)\n    .eq('is_featured', true)\n    .is('deleted_at', null)\n    .limit(8)\n\n  // Debug: Log product data\n  if (featuredProducts && featuredProducts.length > 0) {\n    console.log('=== PRODUCT DATA DEBUG ===')\n    console.log('Featured products count:', featuredProducts.length)\n    console.log('Sample product:', JSON.stringify(featuredProducts[0], null, 2))\n\n    // Check each product's images\n    featuredProducts.forEach((product: any, idx) => {\n      console.log(`Product ${idx + 1} (${product.name}):`)\n      console.log('  - Images array:', product.product_images)\n      console.log('  - Image count:', product.product_images?.length || 0)\n      if (product.product_images && product.product_images.length > 0) {\n        console.log('  - First image URL:', product.product_images[0].image_url)\n        console.log('  - Thumbnail URL:', product.product_images[0].thumbnail_url)\n      }\n    })\n    console.log('======================')\n  } else {\n    console.log('No featured products found or empty array')\n  }\n\n  // Get total product count\n  const { count: totalProducts } = await supabase\n    .from('products')\n    .select('*', { count: 'exact', head: true })\n    .is('deleted_at', null)\n\n  // Get total brand count\n  const { count: totalBrands } = await supabase\n    .from('brands')\n    .select('*', { count: 'exact', head: true })\n\n  if (categoriesError) {\n    console.error('Error fetching categories:', categoriesError)\n  }\n  if (roomsError) {\n    console.error('Error fetching rooms:', roomsError)\n  }\n  if (productsError) {\n    console.error('Error fetching products:', productsError)\n  } else if (!featuredProducts || featuredProducts.length === 0) {\n    console.log('No featured products found. Check if any products have is_featured=true in the database.')\n  }\n\n  return {\n    categories: categories || [],\n    rooms: rooms || [],\n    featuredProducts: featuredProducts || [],\n    stats: {\n      totalProducts: totalProducts || 0,\n      totalBrands: totalBrands || 0,\n      totalCategories: categories?.length || 0,\n    }\n  }\n}\n\nexport default async function FurnitureHubPage() {\n  const data = await getFurnitureData()\n\n  return <FurnitureHubClient {...data} />\n}\n"],"names":[],"mappings":"yMAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,kTAAoT,EACjV,iFACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,8RAAgS,EAC7T,6DACA,+GCJJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAkBA,eAAe,IACb,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,kBAAA,AAAkB,IAGnC,CAAE,KAAM,CAAU,CAAE,MAAO,CAAe,CAAE,CAAG,MAAM,EACxD,IAAI,CAAC,cACL,MAAM,CAAC,oEACP,KAAK,CAAC,QAGH,CAAE,KAAM,CAAK,CAAE,MAAO,CAAU,CAAE,CAAG,MAAM,EAC9C,IAAI,CAAC,SACL,MAAM,CAAC,sDACP,KAAK,CAAC,QAGH,CAAE,KAAM,CAAgB,CAAE,MAAO,CAAa,CAAE,CAAG,MAAM,EAC5D,IAAI,CAAC,YACL,MAAM,CAAC,CAAC;;;;;;;;;;;IAWT,CAAC,EACA,EAAE,CAAC,eAAe,GAClB,EAAE,CAAC,aAAc,MACjB,KAAK,CAAC,GAGL,GAAoB,EAAiB,MAAM,CAAG,GAAG,AAMnD,EAAiB,OAAO,CAAC,CAAC,EAAc,KAIlC,EAAQ,cAAc,EAAI,EAAQ,cAAc,CAAC,MAAM,AAI7D,GAJgE,AAWlE,GAXqE,AAW/D,CARF,AAQI,MAAO,CAAa,CAAE,CAAG,MAAM,EACpC,IAAI,CAAC,YACL,MAAM,CAAC,IAAK,CAAE,MAAO,QAAS,MAAM,CAAK,GACzC,EAAE,CAAC,aAAc,MAGd,CAAE,MAAO,CAAW,CAAE,CAAG,MAAM,EAClC,IAAI,CAAC,UACL,MAAM,CAAC,IAAK,CAAE,MAAO,QAAS,MAAM,CAAK,GAc5C,OANI,GAEO,AAAC,GAAoB,EAAiB,MAAM,CAFpC,AAMZ,CACL,AALF,GAA4D,GAAG,CAE/D,AAFO,IAKO,GAAc,EAAE,CAC5B,MAAO,GAAS,EAAE,CAClB,iBAAkB,GAAoB,EAAE,CACxC,MAAO,CACL,cAAe,GAAiB,EAChC,YAAa,GAAe,EAC5B,gBAAiB,GAAY,QAAU,CACzC,CACF,CACF,CAEe,eAAe,IAC5B,IAAM,EAAO,MAAM,IAEnB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CAAE,GAAG,CAAI,EACrC,mCA9GkC,CAChC,MAAO,wEACP,YAAa,uLACb,UAAW,CACT,MAAO,gDACP,YAAa,yEACb,OAAQ,CAAC,CACP,IAAK,4BACL,MAAO,KACP,OAAQ,IACR,IAAK,sCACP,EAAE,CACF,KAAM,SACR,CACF","ignoreList":[0]}