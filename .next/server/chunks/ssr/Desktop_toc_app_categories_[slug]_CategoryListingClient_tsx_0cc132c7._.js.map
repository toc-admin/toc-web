{"version":3,"sources":["../../../../../../Desktop/toc/app/categories/%5Bslug%5D/CategoryListingClient.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useMemo, useEffect } from \"react\"\nimport { flushSync } from \"react-dom\"\nimport { motion, useInView } from \"framer-motion\"\nimport Link from \"next/link\"\nimport Image from \"next/image\"\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\"\nimport ProductCard from \"@/components/ProductCard\"\n\ninterface CategoryListingClientProps {\n  category: any\n  subcategories: any[]\n  products: any[]\n  totalProducts: number\n  availableRooms: any[]\n  availableSubcategories: string[]\n  availableBrands: any[]\n  initialSearchParams: {\n    sort?: string\n    subcategory?: string\n    rooms?: string\n    brands?: string\n  }\n}\n\nexport default function CategoryListingClient({\n  category,\n  subcategories,\n  products: initialProducts,\n  totalProducts,\n  availableRooms,\n  availableSubcategories,\n  availableBrands,\n  initialSearchParams\n}: CategoryListingClientProps) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n\n  const heroRef = useRef(null)\n  const productsRef = useRef(null)\n  const isHeroInView = useInView(heroRef, { once: true, amount: 0.3 })\n  const isProductsInView = useInView(productsRef, { once: true, amount: 0.1 })\n\n  // Filter states\n  const [selectedSubcategoriesFilter, setSelectedSubcategoriesFilter] = useState<string[]>(\n    initialSearchParams.subcategory?.split(',').filter(Boolean) || []\n  )\n  const [selectedRooms, setSelectedRooms] = useState<string[]>(\n    initialSearchParams.rooms?.split(',').filter(Boolean) || []\n  )\n  const [selectedBrands, setSelectedBrands] = useState<string[]>(\n    initialSearchParams.brands?.split(',').filter(Boolean) || []\n  )\n  const [sortBy, setSortBy] = useState(initialSearchParams.sort || \"popular\")\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>(\"grid\")\n  const [productsToShow, setProductsToShow] = useState(12)\n\n  const productsPerPage = 12\n\n  // Sync state from URL when searchParams change\n  useEffect(() => {\n    const urlSubcategory = searchParams.get('subcategory')?.split(',').filter(Boolean) || []\n    const urlRooms = searchParams.get('rooms')?.split(',').filter(Boolean) || []\n    const urlBrands = searchParams.get('brands')?.split(',').filter(Boolean) || []\n    const urlSort = searchParams.get('sort') || 'popular'\n\n    // Only update if different to prevent unnecessary re-renders\n    const subcategoryChanged = JSON.stringify(urlSubcategory.sort()) !== JSON.stringify([...selectedSubcategoriesFilter].sort())\n    const roomsChanged = JSON.stringify(urlRooms.sort()) !== JSON.stringify([...selectedRooms].sort())\n    const brandsChanged = JSON.stringify(urlBrands.sort()) !== JSON.stringify([...selectedBrands].sort())\n    const sortChanged = urlSort !== sortBy\n\n    if (subcategoryChanged) setSelectedSubcategoriesFilter(urlSubcategory)\n    if (roomsChanged) setSelectedRooms(urlRooms)\n    if (brandsChanged) setSelectedBrands(urlBrands)\n    if (sortChanged) setSortBy(urlSort)\n  }, [searchParams])\n\n  // Helper function to update URL\n  const updateURL = (updates: {\n    subcategory?: string[]\n    rooms?: string[]\n    brands?: string[]\n    sort?: string\n  }) => {\n    const params = new URLSearchParams()\n\n    const subs = updates.subcategory ?? selectedSubcategoriesFilter\n    const rms = updates.rooms ?? selectedRooms\n    const brds = updates.brands ?? selectedBrands\n    const srt = updates.sort ?? sortBy\n\n    if (subs.length > 0) {\n      params.set('subcategory', subs.join(','))\n    }\n    if (rms.length > 0) {\n      params.set('rooms', rms.join(','))\n    }\n    if (brds.length > 0) {\n      params.set('brands', brds.join(','))\n    }\n    if (srt !== 'popular') {\n      params.set('sort', srt)\n    }\n\n    const queryString = params.toString()\n    const newUrl = queryString ? `${pathname}?${queryString}` : pathname\n    router.push(newUrl, { scroll: false })\n  }\n\n  // Client-side filtering and sorting\n  const filteredAndSortedProducts = useMemo(() => {\n    let filtered = [...initialProducts]\n\n    // Filter by subcategory\n    if (selectedSubcategoriesFilter.length > 0) {\n      filtered = filtered.filter(product =>\n        product.subcategory && selectedSubcategoriesFilter.includes(product.subcategory)\n      )\n    }\n\n    // Filter by rooms\n    if (selectedRooms.length > 0) {\n      filtered = filtered.filter(product =>\n        product.product_rooms?.some((pr: any) =>\n          selectedRooms.includes(pr.room?.slug)\n        )\n      )\n    }\n\n    // Filter by brands\n    if (selectedBrands.length > 0) {\n      filtered = filtered.filter(product =>\n        product.brand && selectedBrands.includes(product.brand.slug)\n      )\n    }\n\n    // Sort products\n    switch (sortBy) {\n      case 'newest':\n        filtered.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n        break\n      case 'name-asc':\n        filtered.sort((a, b) => a.name.localeCompare(b.name))\n        break\n      case 'name-desc':\n        filtered.sort((a, b) => b.name.localeCompare(a.name))\n        break\n      case 'popular':\n      default:\n        // Featured items first, then new items\n        filtered.sort((a, b) => {\n          if (a.is_featured && !b.is_featured) return -1\n          if (!a.is_featured && b.is_featured) return 1\n          if (a.is_new && !b.is_new) return -1\n          if (!a.is_new && b.is_new) return 1\n          return 0\n        })\n    }\n\n    return filtered\n  }, [initialProducts, selectedSubcategoriesFilter, selectedRooms, selectedBrands, sortBy])\n\n  // Load more logic\n  const totalFilteredProducts = filteredAndSortedProducts.length\n  const currentProducts = filteredAndSortedProducts.slice(0, productsToShow)\n  const hasMore = productsToShow < totalFilteredProducts\n\n  const loadMore = () => {\n    setProductsToShow(prev => prev + productsPerPage)\n  }\n\n  // Handle filter changes\n  const toggleSubcategoryFilter = (subcategory: string) => {\n    const newSubcategories = selectedSubcategoriesFilter.includes(subcategory)\n      ? selectedSubcategoriesFilter.filter((s) => s !== subcategory)\n      : [...selectedSubcategoriesFilter, subcategory]\n    flushSync(() => {\n      setSelectedSubcategoriesFilter(newSubcategories)\n      setProductsToShow(12)\n    })\n    updateURL({ subcategory: newSubcategories })\n  }\n\n  const toggleRoom = (slug: string) => {\n    const newRooms = selectedRooms.includes(slug)\n      ? selectedRooms.filter((r) => r !== slug)\n      : [...selectedRooms, slug]\n    flushSync(() => {\n      setSelectedRooms(newRooms)\n      setProductsToShow(12)\n    })\n    updateURL({ rooms: newRooms })\n  }\n\n  const toggleBrand = (slug: string) => {\n    const newBrands = selectedBrands.includes(slug)\n      ? selectedBrands.filter((b) => b !== slug)\n      : [...selectedBrands, slug]\n    flushSync(() => {\n      setSelectedBrands(newBrands)\n      setProductsToShow(12)\n    })\n    updateURL({ brands: newBrands })\n  }\n\n  const clearAllFilters = () => {\n    flushSync(() => {\n      setSelectedSubcategoriesFilter([])\n      setSelectedRooms([])\n      setSelectedBrands([])\n      setProductsToShow(12)\n    })\n    updateURL({ subcategory: [], rooms: [], brands: [] })\n  }\n\n  const hasActiveFilters =\n    selectedSubcategoriesFilter.length > 0 ||\n    selectedRooms.length > 0 ||\n    selectedBrands.length > 0\n\n  return (\n    <div className=\"w-full\">\n      {/* Hero Section */}\n      <section\n        ref={heroRef}\n        className=\"relative h-[85vh] min-h-[400px] flex items-center justify-center px-4 sm:px-6 md:px-12 lg:px-24 xl:px-44 text-white overflow-hidden\"\n      >\n        {/* Background Image */}\n        {category.image_url && (\n          <Image\n            src={category.image_url}\n            alt={category.name}\n            fill\n            className=\"object-cover\"\n            priority\n          />\n        )}\n\n        {/* Dark Overlay */}\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-black/40\" />\n\n        {/* Breadcrumb */}\n        <div className=\"absolute top-24 left-4 sm:left-6 md:left-12 lg:left-24 xl:left-44 z-10\">\n          <div className=\"flex items-center gap-2 text-sm text-white/80\">\n            <Link href=\"/\" className=\"hover:text-white transition-colors\">\n              Home\n            </Link>\n            <span>/</span>\n            <Link href=\"/furniture\" className=\"hover:text-white transition-colors\">\n              Furniture\n            </Link>\n            <span>/</span>\n            <span className=\"text-white font-semibold\">{category.name}</span>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"relative z-10 text-center max-w-4xl\">\n          <motion.span\n            initial={{ opacity: 0, y: 20 }}\n            animate={isHeroInView ? { opacity: 1, y: 0 } : {}}\n            transition={{ duration: 0.6, ease: [0.22, 1, 0.36, 1] }}\n            className=\"inline-block text-sm font-bold uppercase tracking-widest text-red-400 mb-4\"\n          >\n            Browse Category\n          </motion.span>\n\n          <motion.h1\n            initial={{ opacity: 0, y: 30 }}\n            animate={isHeroInView ? { opacity: 1, y: 0 } : {}}\n            transition={{ duration: 0.8, ease: [0.22, 1, 0.36, 1], delay: 0.1 }}\n            className=\"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black leading-tight mb-4\"\n          >\n            {category.name}\n          </motion.h1>\n\n          <motion.div\n            initial={{ scaleX: 0 }}\n            animate={isHeroInView ? { scaleX: 1 } : {}}\n            transition={{ duration: 1, ease: [0.22, 1, 0.36, 1], delay: 0.2 }}\n            className=\"h-1 bg-gradient-to-r from-red-500 to-red-300 w-32 mx-auto mb-6\"\n          />\n\n          <motion.p\n            initial={{ opacity: 0, y: 20 }}\n            animate={isHeroInView ? { opacity: 1, y: 0 } : {}}\n            transition={{ duration: 0.7, ease: [0.22, 1, 0.36, 1], delay: 0.3 }}\n            className=\"text-lg md:text-xl text-white/90 leading-relaxed\"\n          >\n            {category.description}\n          </motion.p>\n        </div>\n      </section>\n\n      {/* Subcategory Pills */}\n      {subcategories.length > 0 && (\n        <section className=\"bg-white border-b-2 border-gray-100 py-6 px-4 sm:px-6 md:px-12 lg:px-24 xl:px-44 sticky top-0 z-40 shadow-sm\">\n          <div className=\"flex items-center gap-3 overflow-x-auto pb-2 scrollbar-hide\">\n            <span className=\"text-sm font-semibold text-gray-600 whitespace-nowrap\">\n              Filter:\n            </span>\n            <button\n              onClick={clearAllFilters}\n              className={`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 whitespace-nowrap ${\n                !hasActiveFilters\n                  ? \"bg-gradient-to-r from-red-900 to-red-700 text-white\"\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n              }`}\n            >\n              All {category.name}\n            </button>\n            {subcategories.map((sub) => (\n              <button\n                key={sub.slug}\n                onClick={() => toggleSubcategoryFilter(sub.slug)}\n                className={`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 whitespace-nowrap ${\n                  selectedSubcategoriesFilter.includes(sub.slug)\n                    ? \"bg-gradient-to-r from-red-900 to-red-700 text-white\"\n                    : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                }`}\n              >\n                {sub.name}\n              </button>\n            ))}\n          </div>\n        </section>\n      )}\n\n      {/* Main Content: Filters + Products */}\n      <section className=\"px-4 sm:px-6 md:px-12 lg:px-24 xl:px-44 py-12 bg-gray-50\">\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          {/* Sidebar Filters */}\n          <aside className=\"lg:w-72 flex-shrink-0\">\n            <div className=\"bg-white border-2 border-gray-200 p-6 sticky top-32\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-bold uppercase tracking-wider\">\n                  Filters\n                </h3>\n                {hasActiveFilters && (\n                  <button\n                    onClick={clearAllFilters}\n                    className=\"text-sm text-red-700 hover:text-red-900 font-semibold\"\n                  >\n                    Clear All\n                  </button>\n                )}\n              </div>\n\n              {/* Room Type Filter */}\n              {availableRooms.length > 0 && (\n                <>\n                  <div className=\"mb-8\">\n                    <h4 className=\"text-sm font-bold uppercase tracking-wider text-gray-700 mb-3\">\n                      Room Type\n                    </h4>\n                    <div className=\"space-y-2\">\n                      {availableRooms.map((room) => (\n                        <label\n                          key={room.slug}\n                          className=\"flex items-center gap-3 cursor-pointer group\"\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedRooms.includes(room.slug)}\n                            onChange={() => toggleRoom(room.slug)}\n                            className=\"w-4 h-4 text-red-700 border-gray-300 rounded focus:ring-red-500\"\n                          />\n                          <span className=\"text-sm text-gray-700 group-hover:text-red-700 transition-colors\">\n                            {room.name}\n                          </span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"h-px bg-gray-200 mb-8\" />\n                </>\n              )}\n\n              {/* Subcategory Filter */}\n              {availableSubcategories.length > 0 && (\n                <>\n                  <div className=\"mb-8\">\n                    <h4 className=\"text-sm font-bold uppercase tracking-wider text-gray-700 mb-3\">\n                      Subcategory\n                    </h4>\n                    <div className=\"space-y-2\">\n                      {availableSubcategories.map((subcategory) => (\n                        <label\n                          key={subcategory}\n                          className=\"flex items-center gap-3 cursor-pointer group\"\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={selectedSubcategoriesFilter.includes(subcategory)}\n                            onChange={() => toggleSubcategoryFilter(subcategory)}\n                            className=\"w-4 h-4 text-red-700 border-gray-300 rounded focus:ring-red-500\"\n                          />\n                          <span className=\"text-sm text-gray-700 group-hover:text-red-700 transition-colors\">\n                            {subcategory}\n                          </span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"h-px bg-gray-200 mb-8\" />\n                </>\n              )}\n\n              {/* Brand Filter */}\n              {availableBrands.length > 0 && (\n                <div className=\"mb-8\">\n                  <h4 className=\"text-sm font-bold uppercase tracking-wider text-gray-700 mb-3\">\n                    Brand\n                  </h4>\n                  <div className=\"space-y-2\">\n                    {availableBrands.map((brand) => (\n                      <label\n                        key={brand.slug}\n                        className=\"flex items-center gap-3 cursor-pointer group\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedBrands.includes(brand.slug)}\n                          onChange={() => toggleBrand(brand.slug)}\n                          className=\"w-4 h-4 text-red-700 border-gray-300 rounded focus:ring-red-500\"\n                        />\n                        <span className=\"text-sm text-gray-700 group-hover:text-red-700 transition-colors\">\n                          {brand.name}\n                        </span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* CTA */}\n              <div className=\"pt-6 border-t-2 border-gray-200\">\n                <Link\n                  href=\"/contact\"\n                  className=\"w-full px-6 py-3 bg-black text-white text-sm font-semibold uppercase tracking-wider hover:bg-gray-800 transition-all duration-300 flex items-center justify-center gap-2\"\n                >\n                  Need Help?\n                </Link>\n              </div>\n            </div>\n          </aside>\n\n          {/* Products Grid */}\n          <main ref={productsRef} className=\"flex-1\">\n            {/* Toolbar */}\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8\">\n              {/* Results Count */}\n              <p className=\"text-sm text-gray-600\">\n                Showing{\" \"}\n                <span className=\"font-semibold text-gray-900\">\n                  {Math.min(productsToShow, totalFilteredProducts)}\n                </span>{\" \"}\n                of <span className=\"font-semibold text-gray-900\">{totalFilteredProducts}</span>{\" \"}\n                products\n              </p>\n\n              {/* Sort & View */}\n              <div className=\"flex items-center gap-4\">\n                {/* Sort Dropdown */}\n                <select\n                  value={sortBy}\n                  onChange={(e) => {\n                    const newSort = e.target.value\n                    flushSync(() => {\n                      setSortBy(newSort)\n                    })\n                    updateURL({ sort: newSort })\n                  }}\n                  className=\"px-4 py-2 border-2 border-gray-200 rounded text-sm font-semibold text-gray-700 focus:outline-none focus:border-red-700 transition-colors\"\n                >\n                  <option value=\"popular\">Most Popular</option>\n                  <option value=\"newest\">Newest First</option>\n                  <option value=\"name-asc\">Name: A-Z</option>\n                  <option value=\"name-desc\">Name: Z-A</option>\n                </select>\n\n                {/* View Toggle */}\n                <div className=\"hidden md:flex items-center gap-2 bg-white border-2 border-gray-200 rounded p-1\">\n                  <button\n                    onClick={() => setViewMode(\"grid\")}\n                    className={`p-2 rounded transition-colors ${\n                      viewMode === \"grid\"\n                        ? \"bg-red-700 text-white\"\n                        : \"text-gray-400 hover:text-gray-700\"\n                    }`}\n                    aria-label=\"Grid view\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z\" />\n                    </svg>\n                  </button>\n                  <button\n                    onClick={() => setViewMode(\"list\")}\n                    className={`p-2 rounded transition-colors ${\n                      viewMode === \"list\"\n                        ? \"bg-red-700 text-white\"\n                        : \"text-gray-400 hover:text-gray-700\"\n                    }`}\n                    aria-label=\"List view\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Products Grid */}\n            {currentProducts.length > 0 ? (\n              <div\n                className={\n                  viewMode === \"grid\"\n                    ? \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\"\n                    : \"flex flex-col gap-6\"\n                }\n              >\n                {currentProducts.map((product, index) => (\n                  <ProductCard\n                    key={product.id}\n                    product={product}\n                    index={index}\n                    isInView={true}\n                  />\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-16\">\n                <svg\n                  className=\"w-24 h-24 mx-auto text-gray-300 mb-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={1.5}\n                    d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n                <h3 className=\"text-xl font-bold text-gray-700 mb-2\">No products found</h3>\n                <p className=\"text-gray-500 mb-6\">\n                  Try adjusting your filters to find what you're looking for.\n                </p>\n                <button\n                  onClick={clearAllFilters}\n                  className=\"px-6 py-3 bg-gradient-to-r from-red-900 to-red-700 text-white font-semibold uppercase tracking-wider hover:from-red-800 hover:to-red-600 transition-all duration-300\"\n                >\n                  Clear All Filters\n                </button>\n              </div>\n            )}\n\n            {/* Load More Button */}\n            {hasMore && (\n              <div className=\"flex justify-center mt-12\">\n                <button\n                  onClick={loadMore}\n                  className=\"px-8 py-4 bg-gradient-to-r from-red-900 to-red-700 text-white font-semibold uppercase tracking-wider hover:from-red-800 hover:to-red-600 transition-all duration-300 flex items-center gap-2\"\n                >\n                  Load More Products\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n          </main>\n        </div>\n      </section>\n\n      {/* Related Categories CTA */}\n      <section className=\"px-4 sm:px-6 md:px-12 lg:px-24 xl:px-44 py-16 bg-gradient-to-br from-gray-900 via-red-950 to-black text-white\">\n        <div className=\"max-w-4xl mx-auto text-center\">\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            Explore More Categories\n          </h2>\n          <p className=\"text-lg text-white/80 mb-8\">\n            Can't find what you're looking for? Browse our other furniture categories\n            or contact our experts for personalized recommendations.\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Link\n              href=\"/furniture\"\n              className=\"px-8 py-4 bg-white text-black font-semibold uppercase tracking-wider hover:bg-gray-100 transition-all duration-300\"\n            >\n              View All Categories\n            </Link>\n            <Link\n              href=\"/contact\"\n              className=\"px-8 py-4 bg-transparent border-2 border-white text-white font-semibold uppercase tracking-wider hover:bg-white hover:text-black transition-all duration-300\"\n            >\n              Contact Experts\n            </Link>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}