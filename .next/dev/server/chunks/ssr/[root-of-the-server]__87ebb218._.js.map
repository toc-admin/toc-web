{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/brunocukic/Desktop/toc/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient as createClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database.types'\n\nexport const createServerClient = async () => {\n  const cookieStore = await cookies()\n\n  return createClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,MAAM,qBAAqB;IAChC,MAAM,cAAc,MAAM,IAAA,4JAAO;IAEjC,OAAO,IAAA,iNAAY,sUAGjB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/brunocukic/Desktop/toc/app/products/%5Bslug%5D/ProductDetailClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/toc/app/products/[slug]/ProductDetailClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/toc/app/products/[slug]/ProductDetailClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,0RAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2T,GACxV,yFACA","ignoreList":[0]}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/brunocukic/Desktop/toc/app/products/%5Bslug%5D/ProductDetailClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/toc/app/products/[slug]/ProductDetailClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/toc/app/products/[slug]/ProductDetailClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,0RAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","ignoreList":[0]}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/brunocukic/Desktop/toc/app/products/%5Bslug%5D/page.tsx"],"sourcesContent":["import { Metadata } from 'next'\nimport { notFound } from 'next/navigation'\nimport { createServerClient } from '@/lib/supabase/server'\nimport ProductDetailClient from './ProductDetailClient'\n\ninterface ProductPageProps {\n  params: Promise<{\n    slug: string\n  }>\n}\n\nasync function getProductData(slug: string) {\n  const supabase = await createServerClient()\n\n  // Fetch complete product data with all relations\n  const { data: product, error } = await supabase\n    .from('products')\n    .select(`\n      id,\n      name,\n      slug,\n      sku,\n      short_description,\n      long_description,\n      is_new,\n      is_featured,\n      datasheet_url,\n      brand:brands(id, name, slug, logo_url),\n      category:categories(id, name, slug),\n      product_images(id, image_url, thumbnail_url, medium_url, is_primary, display_order),\n      product_features(id, feature_name),\n      product_colors(id, color_name, hex_code),\n      product_specifications(id, spec_key, spec_value),\n      product_certifications(id, certification_name),\n      product_rooms!inner(room:rooms(id, name, slug))\n    `)\n    .eq('slug', slug)\n    .is('deleted_at', null)\n    .single()\n\n  if (error || !product) {\n    console.error('Error fetching product:', error)\n    return null\n  }\n\n  // Fetch related products from same category\n  const { data: relatedProducts } = await supabase\n    .from('products')\n    .select(`\n      id,\n      name,\n      slug,\n      is_new,\n      is_featured,\n      brand:brands(name),\n      category:categories(name),\n      product_images(image_url, thumbnail_url, is_primary),\n      product_features(feature_name)\n    `)\n    .eq('category_id', product.category?.id)\n    .neq('id', product.id)\n    .is('deleted_at', null)\n    .limit(4)\n\n  return {\n    product,\n    relatedProducts: relatedProducts || []\n  }\n}\n\nexport async function generateMetadata({ params }: ProductPageProps): Promise<Metadata> {\n  const { slug } = await params\n  const data = await getProductData(slug)\n\n  if (!data?.product) {\n    return {\n      title: 'Product Not Found | The Office Company',\n    }\n  }\n\n  const { product } = data\n  const primaryImage = product.product_images?.find((img: any) => img.is_primary)?.image_url\n    || product.product_images?.[0]?.image_url\n\n  return {\n    title: `${product.name} | ${product.brand?.name || 'The Office Company'}`,\n    description: product.short_description || product.long_description?.substring(0, 160),\n    openGraph: {\n      title: `${product.name} | ${product.brand?.name}`,\n      description: product.short_description || '',\n      images: primaryImage ? [{\n        url: primaryImage,\n        width: 800,\n        height: 600,\n        alt: product.name\n      }] : [],\n      type: 'website',\n    },\n  }\n}\n\nexport default async function ProductPage({ params }: ProductPageProps) {\n  const { slug } = await params\n  const data = await getProductData(slug)\n\n  if (!data?.product) {\n    notFound()\n  }\n\n  return <ProductDetailClient product={data.product} relatedProducts={data.relatedProducts} />\n}\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;AACA;AACA;;;;;AAQA,eAAe,eAAe,IAAY;IACxC,MAAM,WAAW,MAAM,IAAA,iKAAkB;IAEzC,iDAAiD;IACjD,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,SACpC,IAAI,CAAC,YACL,MAAM,CAAC,CAAC;;;;;;;;;;;;;;;;;;IAkBT,CAAC,EACA,EAAE,CAAC,QAAQ,MACX,EAAE,CAAC,cAAc,MACjB,MAAM;IAET,IAAI,SAAS,CAAC,SAAS;QACrB,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;IAEA,4CAA4C;IAC5C,MAAM,EAAE,MAAM,eAAe,EAAE,GAAG,MAAM,SACrC,IAAI,CAAC,YACL,MAAM,CAAC,CAAC;;;;;;;;;;IAUT,CAAC,EACA,EAAE,CAAC,eAAe,QAAQ,QAAQ,EAAE,IACpC,GAAG,CAAC,MAAM,QAAQ,EAAE,EACpB,EAAE,CAAC,cAAc,MACjB,KAAK,CAAC;IAET,OAAO;QACL;QACA,iBAAiB,mBAAmB,EAAE;IACxC;AACF;AAEO,eAAe,iBAAiB,EAAE,MAAM,EAAoB;IACjE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,OAAO,MAAM,eAAe;IAElC,IAAI,CAAC,MAAM,SAAS;QAClB,OAAO;YACL,OAAO;QACT;IACF;IAEA,MAAM,EAAE,OAAO,EAAE,GAAG;IACpB,MAAM,eAAe,QAAQ,cAAc,EAAE,KAAK,CAAC,MAAa,IAAI,UAAU,GAAG,aAC5E,QAAQ,cAAc,EAAE,CAAC,EAAE,EAAE;IAElC,OAAO;QACL,OAAO,GAAG,QAAQ,IAAI,CAAC,GAAG,EAAE,QAAQ,KAAK,EAAE,QAAQ,sBAAsB;QACzE,aAAa,QAAQ,iBAAiB,IAAI,QAAQ,gBAAgB,EAAE,UAAU,GAAG;QACjF,WAAW;YACT,OAAO,GAAG,QAAQ,IAAI,CAAC,GAAG,EAAE,QAAQ,KAAK,EAAE,MAAM;YACjD,aAAa,QAAQ,iBAAiB,IAAI;YAC1C,QAAQ,eAAe;gBAAC;oBACtB,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,KAAK,QAAQ,IAAI;gBACnB;aAAE,GAAG,EAAE;YACP,MAAM;QACR;IACF;AACF;AAEe,eAAe,YAAY,EAAE,MAAM,EAAoB;IACpE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,OAAO,MAAM,eAAe;IAElC,IAAI,CAAC,MAAM,SAAS;QAClB,IAAA,mNAAQ;IACV;IAEA,qBAAO,gQAAC,gLAAmB;QAAC,SAAS,KAAK,OAAO;QAAE,iBAAiB,KAAK,eAAe;;;;;;AAC1F"}}]
}